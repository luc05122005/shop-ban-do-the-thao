<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đăng Nhập / Đăng Ký - Shop Đồ Thể Thao</title>
  <style>
    body {
        

      font-family: Arial;
      background: linear-gradient(to right, #c9d6ff, #e2e2e2);
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
 background-image: url(https://cdn.hpdecor.vn/wp-content/uploads/2021/09/shop-thoi-trang-the-thao-trang-uyen-2.jpg);
  background-size: cover;         /* Ảnh phủ toàn bộ màn hình */
  background-repeat: no-repeat;   /* Không lặp lại ảnh */
  background-position: center;    /* Căn giữa ảnh */
    }
    
  
    .login-box {
      background: rgba(255, 255, 255, 0.9);
      padding: 40px 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      text-align: center;
    }

    .login-box h2 {
      margin-bottom: 20px;
    }

    input {
      margin: 10px 0;
      padding: 12px;
      width: 250px;
      border: none;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      transition: 0.2s ease;
    }

    input:focus {
      outline: none;
      box-shadow: 0 0 8px rgba(0,123,255,0.7);
    }

    button {
      padding: 12px 24px;
      margin-top: 10px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    button:hover {
      background: #0056b3;
      transform: scale(1.05);
    }

    a {
      color: #6c00ff;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    #formOverlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
    }

    #formContainer {
      display: none;
      background: white;
      width: 350px;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 20px #000;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1001;
    }

    .close-btn {
      float: right;
      font-weight: bold;
      cursor: pointer;
      color: red;
      font-size: 18px;
    }

    #error {
      color: red;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div class="login-box">
    <h2>Đăng Nhập</h2>
    <input type="text" id="username" placeholder="Tên đăng nhập"><br>
    <input type="password" id="password" placeholder="Mật khẩu"><br>
    <button onclick="dangNhap()">Đăng nhập</button><br>
    <p id="error"></p>
    <p>Chưa có tài khoản? <a href="#" onclick="hienFormDangKy()">Đăng ký</a></p>
  </div>

  <!-- Form đăng ký -->
  <div id="formOverlay" onclick="dongForm()"></div>
  <div id="formContainer">
    <span class="close-btn" onclick="dongForm()">×</span>
    <h3>Đăng Ký Tài Khoản</h3>
    
    <input type="text" id="dk_username" placeholder="Tên đăng nhập"><br>
    <input type="password" id="dk_password" placeholder="Mật khẩu"><br>
    <input type="text" id="phone" placeholder="Số điện thoại"><br>
    <button onclick="dangKy()">Đăng ký</button>
  </div>
  <style>
  #formContainer h3 {
    text-align: center;
  }

  #formContainer button {
    display: block;
    margin: 10px auto 0;
  }
</style>

  <script>
    // Danh sách người dùng mặc định
    const danhSachNguoiDung = [
      { ten: "admin", matkhau: "123456", sdt: "0000000000" }
      
    ];

    // Load từ localStorage nếu có
    const duLieu = localStorage.getItem("nguoiDung");
    if (duLieu) {
      danhSachNguoiDung.push(...JSON.parse(duLieu));
    }

    function dangKy() {
      const ten = document.getElementById("dk_username").value.trim();
      const matkhau = document.getElementById("dk_password").value.trim();
      const sdt = document.getElementById("phone").value.trim();

      if (!ten || !matkhau || !sdt) {
        alert("❗ Vui lòng điền đầy đủ thông tin.");
        return;
      }

      if (!/^\d{9,11}$/.test(sdt)) {
        alert("⚠️ Số điện thoại không hợp lệ.");
        return;
      }

      const daTonTai = danhSachNguoiDung.find(u => u.ten === ten);
      if (daTonTai) {
        alert("⚠️ Tài khoản đã tồn tại.");
        return;
      }

      danhSachNguoiDung.push({ ten, matkhau, sdt });
      localStorage.setItem("nguoiDung", JSON.stringify(danhSachNguoiDung));

      alert("✅ Đăng ký thành công!");
      document.getElementById("dk_username").value = "";
      document.getElementById("dk_password").value = "";
      document.getElementById("phone").value = "";
      dongForm();
    }

    function dangNhap() {
      const ten = document.getElementById("username").value.trim();
      const matkhau = document.getElementById("password").value.trim();

      const nguoiDung = danhSachNguoiDung.find(u => u.ten === ten && u.matkhau === matkhau);

      if (nguoiDung) {
        localStorage.setItem("user", nguoiDung.ten);
        window.location.href = "webthethaohoanthien.html";
      } else {
        document.getElementById("error").innerText = "❌ Sai tên đăng nhập hoặc mật khẩu!";
      }
    }

    function hienFormDangKy() {
      document.getElementById("formOverlay").style.display = "block";
      document.getElementById("formContainer").style.display = "block";
    }

    function dongForm() {
      document.getElementById("formOverlay").style.display = "none";
      document.getElementById("formContainer").style.display = "none";
    }
  </script>

</body>
</html>
